---
import DefaultLayout from "../../layouts/DefaultLayout.astro";
import BlogBanner from "../../components/blog/BlogBanner.svelte";
import axios from "axios";

const { data } = await axios.get("http://localhost:3000/api/blog");

console.log(data, " the blogs");
---

<DefaultLayout title='BLog page'>
  <BlogBanner />
  {
    data.data.map(
      ({
        id,
        name,
        author,
        content,
        categories,
        slug,
      }: {
        id: string;
        name: string;
        author: string;
        content: string;
        categories: string;
        slug: string;
      }) => (
        <a href={`/raian-astro/blog/${slug}`} class=''>
          <h1 class='text-white'>{name}</h1>
        </a>
      )
    )
  }
</DefaultLayout>
